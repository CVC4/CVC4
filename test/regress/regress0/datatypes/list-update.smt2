(set-logic ALL)
(set-info :status unsat)
(declare-datatypes ((list 0)) (
((cons (head Int) (tail list)) (nil))
))
(declare-fun a () list)
(declare-fun b () list)
(assert ((_ is cons) a))
(assert (= ((_ dt.update head) a 3) ((_ dt.update head) b 4)))
(check-sat)
